{"ast":null,"code":"import * as actionTypes from './actionTypes';\nimport axios from '../../axios-order';\nimport * as getRequests from './getRequests'; //For the axios get request: /resource/wwhr-5ven.json\n\nexport const fetchCouncilMemberStart = () => {\n  return {\n    type: actionTypes.FETCH_COUNCIL_MEMBER_START\n  };\n};\nexport const fetchCouncilMemberSuccess = councilMembers => {\n  return {\n    type: actionTypes.FETCH_COUNCIL_MEMBER_SUCCESS,\n    councilMembers: councilMembers\n  };\n};\nexport const fetchCouncilMemberFail = error => {\n  return {\n    type: actionTypes.FETCH_COUNCIL_MEMBER_FAIL,\n    error: error\n  };\n};\nexport const fetchDistrictsFail = error => {\n  return {\n    type: actionTypes.FETCH_DISTRICTS_FAIL,\n    error: error\n  };\n};\nexport const fetchDistrictsStart = () => {\n  return {\n    type: actionTypes.FETCH_DISTRICTS_START\n  };\n};\nexport const fetchDistrictsSuccess = data => {\n  return {\n    type: actionTypes.FETCH_DISTRICTS_SUCCESS,\n    districts: data\n  };\n};\nexport const fetchParticipatoryBudgetItemFail = error => {\n  return {\n    type: actionTypes.FETCH_PARTICIPATORY_BUDGET_ITEM_FAIL,\n    error: error\n  };\n};\nexport const fetchParticipatoryBudgetItemStart = () => {\n  return {\n    type: actionTypes.FETCH_PARTICIPATORY_BUDGET_ITEM_START\n  };\n};\nexport const fetchParticipatoryBudgetItemSuccess = data => {\n  return {\n    type: actionTypes.FETCH_PARTICIPATORY_BUDGET_ITEM_SUCCESS,\n    data: data\n  };\n};\nexport const initBudget = () => {\n  return dispatch => {\n    dispatch(fetchCouncilMemberStart());\n    axios.get(getRequests.cityCouncilMembers).then(response => {\n      // console.log(\"COUNCIL MEMBER CALL\",response.data)\n      dispatch(fetchCouncilMemberSuccess(JSON.stringify(response.data)));\n    }).then(() => {\n      dispatch(fetchParticipatoryBudgetItemStart());\n      axios.get(getRequests.participatoryBudget).then(response => {\n        // console.log(response.data)\n        dispatch(fetchParticipatoryBudgetItemSuccess(JSON.stringify(response.data)));\n      }).then(() => {\n        dispatch(fetchDistrictsStart());\n        axios.get(getRequests.cityCouncilDistricts).then(response => {\n          // console.log('FETCH DISTRICTS',response.data);\n          dispatch(fetchDistrictsSuccess(JSON.stringify(response.data)));\n        }).catch(error => dispatch(fetchDistrictsFail(error)));\n      });\n    }).catch(error => dispatch(fetchCouncilMemberFail(error)));\n  };\n}; // export const fetchCouncilMember = (district) => {\n//     return dispatch => {\n//         dispatch(fetchCouncilMemberStart());\n//         axios.get(getRequests.cityCouncilMembers)\n//             .then(response => {\n//                 console.log(\"COUNCIL MEMBER CALL\",response.data)\n//                 dispatch(fetchCouncilMemberSuccess(JSON.stringify(response.data), district))                \n//             })\n//             .catch(error => dispatch(fetchCouncilMemberFail(error)))\n//     }\n// }","map":{"version":3,"sources":["/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/actions/initBudget.js"],"names":["actionTypes","axios","getRequests","fetchCouncilMemberStart","type","FETCH_COUNCIL_MEMBER_START","fetchCouncilMemberSuccess","councilMembers","FETCH_COUNCIL_MEMBER_SUCCESS","fetchCouncilMemberFail","error","FETCH_COUNCIL_MEMBER_FAIL","fetchDistrictsFail","FETCH_DISTRICTS_FAIL","fetchDistrictsStart","FETCH_DISTRICTS_START","fetchDistrictsSuccess","data","FETCH_DISTRICTS_SUCCESS","districts","fetchParticipatoryBudgetItemFail","FETCH_PARTICIPATORY_BUDGET_ITEM_FAIL","fetchParticipatoryBudgetItemStart","FETCH_PARTICIPATORY_BUDGET_ITEM_START","fetchParticipatoryBudgetItemSuccess","FETCH_PARTICIPATORY_BUDGET_ITEM_SUCCESS","initBudget","dispatch","get","cityCouncilMembers","then","response","JSON","stringify","participatoryBudget","cityCouncilDistricts","catch"],"mappings":"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","sourcesContent":["import * as actionTypes from './actionTypes';\nimport axios from '../../axios-order';\nimport * as getRequests from './getRequests'\n\n//For the axios get request: /resource/wwhr-5ven.json\n\nexport const fetchCouncilMemberStart = () => {\n    return {\n        type: actionTypes.FETCH_COUNCIL_MEMBER_START\n    }\n\n}\n\nexport const fetchCouncilMemberSuccess = (councilMembers) => {\n    return {\n        type: actionTypes.FETCH_COUNCIL_MEMBER_SUCCESS,\n        councilMembers: councilMembers\n    }\n}\n\nexport const fetchCouncilMemberFail = (error) => {\n    return {\n        type: actionTypes.FETCH_COUNCIL_MEMBER_FAIL,\n        error: error\n    }\n}\n\nexport const fetchDistrictsFail = (error) => {\n    return {\n        type: actionTypes.FETCH_DISTRICTS_FAIL,\n        error: error\n    }\n}\n\nexport const fetchDistrictsStart = () => {\n    return {\n        type: actionTypes.FETCH_DISTRICTS_START\n    }\n\n}\n\nexport const fetchDistrictsSuccess = (data) => {\n    return {\n        type: actionTypes.FETCH_DISTRICTS_SUCCESS,\n        districts: data\n    }\n}\n\nexport const fetchParticipatoryBudgetItemFail = (error) => {\n    return {\n        type: actionTypes.FETCH_PARTICIPATORY_BUDGET_ITEM_FAIL,\n        error: error\n    }\n}\n\nexport const fetchParticipatoryBudgetItemStart = () => {\n    return {\n        type: actionTypes.FETCH_PARTICIPATORY_BUDGET_ITEM_START\n    }\n\n}\n\nexport const fetchParticipatoryBudgetItemSuccess = (data) => {\n    return {\n        type: actionTypes.FETCH_PARTICIPATORY_BUDGET_ITEM_SUCCESS,\n        data: data\n    }\n}\n\nexport const initBudget = () => {\n    return dispatch => {\n        dispatch(fetchCouncilMemberStart());\n            axios.get(getRequests.cityCouncilMembers)\n                .then(response => {\n                    // console.log(\"COUNCIL MEMBER CALL\",response.data)\n                    dispatch(fetchCouncilMemberSuccess(JSON.stringify(response.data)))                \n                }).then( () => {\n                    dispatch(fetchParticipatoryBudgetItemStart());\n                    axios.get(getRequests.participatoryBudget)\n                        .then(response => {\n                            // console.log(response.data)\n                            dispatch(fetchParticipatoryBudgetItemSuccess(JSON.stringify(response.data)))             \n                        }).then( () => {\n                            dispatch(fetchDistrictsStart());\n                            axios.get(getRequests.cityCouncilDistricts)\n                            .then(response => {\n                                // console.log('FETCH DISTRICTS',response.data);\n                                dispatch(fetchDistrictsSuccess(JSON.stringify(response.data)))\n                            }).catch(error => dispatch(fetchDistrictsFail(error)))\n                        })\n                })\n                .catch(error => dispatch(fetchCouncilMemberFail(error)))\n    }\n}\n\n// export const fetchCouncilMember = (district) => {\n//     return dispatch => {\n//         dispatch(fetchCouncilMemberStart());\n//         axios.get(getRequests.cityCouncilMembers)\n//             .then(response => {\n//                 console.log(\"COUNCIL MEMBER CALL\",response.data)\n//                 dispatch(fetchCouncilMemberSuccess(JSON.stringify(response.data), district))                \n//             })\n//             .catch(error => dispatch(fetchCouncilMemberFail(error)))\n//     }\n// }"]},"metadata":{},"sourceType":"module"}