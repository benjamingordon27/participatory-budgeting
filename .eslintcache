[{"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/index.js":"1","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/App.js":"2","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/reportWebVitals.js":"3","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/actions/actionTypes.js":"4","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/utility.js":"5","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/axios-order.js":"6","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/components/UI/Spinner/Spinner.js":"7","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/actions/getRequests.js":"8","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/components/BudgetItem/BudgetItem.js":"9","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/reducers/initBudget.js":"10","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/actions/initBudget.js":"11","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/components/UI/Button/Button.js":"12","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/components/UI/Dropdown/Dropdown.js":"13","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/data/map_district_one.js":"14","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/reducers/calculateSubsets.js":"15","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/actions/index.js":"16","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/actions/calculateSubsets.js":"17","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/reducers/setMap.js":"18","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/actions/setMap.js":"19","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/containers/ControlsManager/ControlsManager.js":"20","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/containers/BudgetItemVisualization/BudgetItemVisualization.js":"21","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/components/UI/MapMarker/MapMarker.js":"22","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/components/Map/Map.js":"23","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/components/UI/MapPinIcon/MapPinIcon.js":"24","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/util/translateCategory.js":"25","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/containers/BudgetMap/BudgetMap.js":"26","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/components/UI/MapMarker/mapMarkerImgs.js":"27"},{"size":1151,"mtime":1612190279265,"results":"28","hashOfConfig":"29"},{"size":949,"mtime":1612634251991,"results":"30","hashOfConfig":"29"},{"size":362,"mtime":1611196435849,"results":"31","hashOfConfig":"29"},{"size":1123,"mtime":1612663145750,"results":"32","hashOfConfig":"29"},{"size":127,"mtime":1611282656988,"results":"33","hashOfConfig":"29"},{"size":134,"mtime":1611282433921,"results":"34","hashOfConfig":"29"},{"size":174,"mtime":1611283269158,"results":"35","hashOfConfig":"29"},{"size":218,"mtime":1611633196185,"results":"36","hashOfConfig":"29"},{"size":1437,"mtime":1612669359718,"results":"37","hashOfConfig":"29"},{"size":5786,"mtime":1612195776114,"results":"38","hashOfConfig":"29"},{"size":3378,"mtime":1612195480323,"results":"39","hashOfConfig":"29"},{"size":214,"mtime":1611429488562,"results":"40","hashOfConfig":"29"},{"size":527,"mtime":1612661434153,"results":"41","hashOfConfig":"29"},{"size":408775,"mtime":1611627566833,"results":"42","hashOfConfig":"29"},{"size":3121,"mtime":1612664892430,"results":"43","hashOfConfig":"29"},{"size":280,"mtime":1612664606877,"results":"44","hashOfConfig":"29"},{"size":797,"mtime":1612664818400,"results":"45","hashOfConfig":"29"},{"size":1823,"mtime":1612628777559,"results":"46","hashOfConfig":"29"},{"size":1547,"mtime":1612628748387,"results":"47","hashOfConfig":"29"},{"size":4410,"mtime":1612666174604,"results":"48","hashOfConfig":"29"},{"size":2064,"mtime":1612671588513,"results":"49","hashOfConfig":"29"},{"size":1281,"mtime":1612635308620,"results":"50","hashOfConfig":"29"},{"size":3397,"mtime":1612585593271,"results":"51","hashOfConfig":"29"},{"size":486,"mtime":1612446027500,"results":"52","hashOfConfig":"29"},{"size":2200,"mtime":1612496121950,"results":"53","hashOfConfig":"29"},{"size":4354,"mtime":1612634688051,"results":"54","hashOfConfig":"29"},{"size":2412,"mtime":1612627463758,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"sve5og",{"filePath":"59","messages":"60","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"58"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"58"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"58"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"58"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"58"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"58"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"106","messages":"107","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"58"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"58"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"116","usedDeprecatedRules":"58"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"58"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/index.js",[],["122","123"],"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/App.js",["124","125"],"import logo from './logo.svg';\nimport './App.css';\nimport ControlsManager from './containers/ControlsManager/ControlsManager'\nimport BudgetMap from './containers/BudgetMap/BudgetMap'\nimport BudgetItemVisualization from './containers/BudgetItemVisualization/BudgetItemVisualization'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <h1>Welcome to this Participatory Budget viewer. Click on options below to find items on the participatory budget from the years 2012-2017.</h1>\n      <p>Find current participatory budget requests here: <a href='http://ideas.pbnyc.org/page/about' target='_blank' style={{color: 'blue'}} >http://ideas.pbnyc.org/page/about</a></p>\n      <ControlsManager />\n      <div className=\"row\">\n        <div style={{width: '40%', height:'100vh', left: '0', right: '0',overflowY: 'scroll'}}>\n          <BudgetItemVisualization />\n        </div>\n        <BudgetMap />\n      </div>\n    </div>\n  );\n}\n\nexport default App;","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/reportWebVitals.js",[],"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/actions/actionTypes.js",[],"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/utility.js",[],"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/axios-order.js",[],"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/components/UI/Spinner/Spinner.js",["126"],"import react from 'react'\nimport classes from './Spinner.module.css'\n\nconst spinner = () => (\n    <div className={classes.Loader}>Loading...</div>\n);\n\nexport default spinner;","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/actions/getRequests.js",[],"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/components/BudgetItem/BudgetItem.js",["127","128"],"import React, {Component} from 'react';\nimport classes from './BudgetItem.module.css'\n\nvar formatter = new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',      \n});\n\nconst budgetItem = (props) => {\n\n    console.log(props)\n\n    return (\n        <div className={classes.BudgetItem} onClick={props.clicked}>\n                <strong>Name:</strong> {props.title}<br></br>\n                <strong>Description:</strong> {props.description}<br></br>\n                <strong>Cost:</strong> {formatter.format(props.cost)}<br></br>\n                <strong>Year:</strong> {props.vote_year}<br></br>\n                <strong>Category:</strong> {props.category}<br></br>\n                <strong>Council District:</strong> {props.council_district}<br></br>\n\n                {props.councilMember.length > 0 ?\n                    <React.Fragment>\n                        <strong>Borough:</strong> {props.councilMember.borough}<br></br>\n                        <strong>Current Council Member:</strong> {props.councilMember[0].name}, {props.councilMember[0].political_party}<br></br>\n                    </React.Fragment>\n                : null}                    \n                {props.longitude && props.latitude ?\n                    <div>\n                        <a href = ''><p>Click to focus</p></a>\n                    </div>\n                    :''\n                }\n        </div>\n    );    \n}\n\nexport default budgetItem;","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/reducers/initBudget.js",["129","130","131","132","133","134","135","136"],"import * as actionTypes from '../actions/actionTypes';\nimport {updateObject} from '../utility';\nimport { similarSubstring } from 'similar-substring';\n\nconst initialState = {    \n    currItem: null,\n    participatoryBudget: null,\n    loading: false,\n    councilMemberLoading: false,\n    error: false,\n    councilMembers: null,\n    districts: null,\n    districtsLoading: false,\n    itemCategories: null,\n    itemYears: null,\n    itemDistricts: null,\n    selectedDistricts: null,\n\n    loaded: false,\n}\n\nconst initCategory = (participatoryBudget) => {\n    let categories = [];\n    var keys = Object.keys(participatoryBudget);\n    keys.forEach(function(key){\n        categories.push(participatoryBudget[key].category);\n    });    \n    // var smallerListOfCategories = ['Culture and Community Facilities','Schools and Education','Environment',\n    //     'Housing','Parks and Recreation','Public Health','Public Safety','Sanitation','Seniors','Streets and Sidewalks','Transit and Transportation','Youth']\n\n    // var uniqueCategories = categories.filter((v, i, a) => a.indexOf(v) === i).sort();\n\n    // for(var category in uniqueCategories){\n    //     var similarities = [];\n    //     for(var smallerListItem in smallerListOfCategories){\n    //         similarities.push(similarSubstring(uniqueCategories[category], smallerListOfCategories[smallerListItem]))            \n    //     }\n    //     // console.log('Category: '+ uniqueCategories[category],similarities)\n    // }\n\n    return categories.filter((v, i, a) => a.indexOf(v) === i).sort();\n}\n\nconst initYear = (participatoryBudget) => {\n    let years = [];\n    var keys = Object.keys(participatoryBudget);\n    keys.forEach(function(key){\n        years.push(participatoryBudget[key].vote_year);\n    });    \n    return years.filter((v, i, a) => a.indexOf(v) === i).sort();\n}\n\nconst initDistricts = (participatoryBudget) => {\n    let years = [];\n    var keys = Object.keys(participatoryBudget);\n    keys.forEach(function(key){\n        years.push(participatoryBudget[key].council_district);\n    });    \n    return years.filter((v, i, a) => a.indexOf(v) === i).sort((a, b) => a - b);\n}\n\nconst findMax = (key, data, councilMembers) => {    \n    \n    var maxProp = null;\n    var maxValue = -1;\n    for (var prop in data) {\n        var curr = data[prop];        \n        var value = curr[key];\n        if (value > maxValue) {\n            maxProp = curr\n            maxValue = value\n        }\n    }\n    \n    var councilMember = councilMembers.filter(item => item.district === maxProp.council_district)[0];    \n    const updatedMaxProp = {...maxProp, councilMember: councilMember}    \n    return {...updatedMaxProp};\n}\n\nconst loadBudgetSuccess = (state, participatoryBudget) => {\n\n    return updateObject(state, \n        {\n            loading: false, \n            participatoryBudget: JSON.parse(participatoryBudget), \n            itemCategories: initCategory(JSON.parse(participatoryBudget)),\n            itemYears: initYear(JSON.parse(participatoryBudget)),\n            itemDistricts: initDistricts(JSON.parse(participatoryBudget))\n        })\n}\n\nconst sortByYear = (participatoryBudget, year) =>{\n    //console.log(participatoryBudget.filter(item => item.vote_year === year))\n    let transformed = [];\n    Object.keys(JSON.parse(participatoryBudget)).map(key => {\n        // console.log('year', year)\n        \n        if(JSON.parse(participatoryBudget)[key].vote_year === year)\n            transformed.push(JSON.parse(participatoryBudget)[key])\n    })\n\n    return transformed;\n}\n\nconst sortByDistrict = (participatoryBudget, district) =>{\n    //console.log(participatoryBudget.filter(item => item.vote_year === year))\n    let transformed = [];\n    Object.keys(JSON.parse(participatoryBudget)).map(key => {\n        // console.log('year', year)\n        \n        if(JSON.parse(participatoryBudget)[key].council_district === district)\n            transformed.push(JSON.parse(participatoryBudget)[key])\n    })\n\n    return transformed;\n}\n\nconst sortByCategory = (participatoryBudget, category) =>{\n    //console.log(participatoryBudget.filter(item => item.vote_year === year))\n    let transformed = [];\n    Object.keys(JSON.parse(participatoryBudget)).map(key => {\n        // console.log('year', year)\n        \n        if(JSON.parse(participatoryBudget)[key].category === category)\n            transformed.push(JSON.parse(participatoryBudget)[key])\n    })\n\n    return transformed;\n}\n\nconst reducer = (state = initialState, action) => {\n    switch(action.type){\n        case actionTypes.FETCH_COUNCIL_MEMBER_START: return updateObject(state, {councilMemberLoading: true})\n        case actionTypes.FETCH_COUNCIL_MEMBER_SUCCESS: return updateObject(state, {councilMemberLoading: false, councilMembers: JSON.parse(action.councilMembers)})            \n        case actionTypes.FETCH_COUNCIL_MEMBER_FAIL: return updateObject(state, {error: action.error, councilMemberLoading: false})\n        \n        case actionTypes.FETCH_PARTICIPATORY_BUDGET_ITEM_START: return updateObject(state, {loading: true})\n        case actionTypes.FETCH_PARTICIPATORY_BUDGET_ITEM_SUCCESS: return updateObject(state, loadBudgetSuccess(state,action.data))            \n        case actionTypes.FETCH_PARTICIPATORY_BUDGET_ITEM_FAIL: return updateObject(state, {error: action.error, loading: false})    \n        \n        case actionTypes.FETCH_DISTRICTS_START: return updateObject(state, {districtsLoading: true})\n        case actionTypes.FETCH_DISTRICTS_SUCCESS: return updateObject(state, {districtsLoading: false, districts: JSON.parse(action.districts), loaded: true})            \n        case actionTypes.FETCH_DISTRICTS_FAIL: return updateObject(state, {error: action.error, districtsLoading: false})\n        default:\n            return state;\n    }\n}\n\nexport default reducer;","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/actions/initBudget.js",[],"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/components/UI/Button/Button.js",[],"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/components/UI/Dropdown/Dropdown.js",[],"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/data/map_district_one.js",[],["137","138"],"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/reducers/calculateSubsets.js",["139","140","141","142","143","144"],"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/actions/index.js",[],"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/actions/calculateSubsets.js",[],"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/reducers/setMap.js",["145","146","147"],"import * as actionTypes from '../actions/actionTypes';\nimport {updateObject} from '../utility';\nimport GoogleMapReact from 'google-map-react';\nimport Spinner from '../../components/UI/Spinner/Spinner';\nimport MapMarker from '../../components/UI/MapMarker/MapMarker';\n\nconst DEFAULT_CENTER = { lat: 40.635, lng: -73.94 };\n\nconst initialState = {\n    map: <Spinner />,\n    mapProps: {},\n    zoom: 11,\n    markers: [],\n    center: DEFAULT_CENTER,\n}\n\nconst setMap = (state,districts, selectedDistricts, councilMembers, selectedBudgetItems) => {  \n    \n    return {\n                zoom: state.zoom,\n                districts: districts,\n                selectedDistricts: selectedDistricts,\n                councilMembers: councilMembers,\n                selectedBudgetItems: selectedBudgetItems,                \n            }\n}\n\nconst reducer = (state = initialState, action) => {\n    switch(action.type){\n        case actionTypes.SET_MAP: return updateObject(state, {mapProps: setMap(state,action.districts, action.selectedDistricts, action.councilMembers, action.selectedBudgetItems)})        \n        case actionTypes.UPDATE_MAP: return updateObject(state, {mapProps: setMap(state,action.districts, action.selectedDistricts, action.councilMembers, action.selectedBudgetItems)})        \n        case actionTypes.RESET_MAP: return updateObject(state, {map: <Spinner />})        \n        case actionTypes.ZOOM_MARKER: return updateObject(state, {zoom: 14, center: action.center})\n        case actionTypes.ZOOM_MARKER: return updateObject(state, {zoom: 14, center: action.center})\n        case actionTypes.ZOOM_IN: return updateObject(state, {zoom: state.zoom + 1})\n        case actionTypes.ZOOM_OUT: return updateObject(state, {zoom: state.zoom - 1})\n        default:\n            return state;\n    }\n}\n\nexport default reducer;","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/store/actions/setMap.js",["148","149"],"import * as actionTypes from './actionTypes';\nimport axios from '../../axios-order';\nimport * as getRequests from './getRequests';\n\nexport const zoomMarker = (center) => {\n    return {\n        type: actionTypes.ZOOM_MARKER,\n        center: center,\n    }\n}\n\nexport const zoomOut = () => {\n    return {\n        type: actionTypes.ZOOM_OUT,\n    }\n}\n\nexport const zoomIn = () => {\n    return {\n        type: actionTypes.ZOOM_IN, \n    }\n}\n\nexport const setMap = (districts, selectedDistricts, councilMembers, selectedBudgetItems) => {\n    return {\n        type: actionTypes.SET_MAP,\n        districts: districts,\n        selectedDistricts: selectedDistricts,\n        councilMembers: councilMembers,\n        selectedBudgetItems: selectedBudgetItems,\n    }\n}\n\nexport const updateHelper = (districts, selectedDistricts, councilMembers, selectedBudgetItems) => {\n    return {\n        type: actionTypes.UPDATE_MAP,\n        districts: districts,\n        selectedDistricts: selectedDistricts,\n        councilMembers: councilMembers,\n        selectedBudgetItems: selectedBudgetItems,\n    }\n}\n\nexport const updateMap = (districts, selectedDistricts, councilMembers, selectedBudgetItems) => {\n    return dispatch => {\n        setTimeout(() => dispatch(updateHelper(districts, selectedDistricts, councilMembers, selectedBudgetItems),50));\n    }\n}\n\nexport const resetHelper = () => {    \n    return {\n        type: actionTypes.RESET_MAP,\n    }\n}\n\nexport const resetMap = () => {\n    return dispatch => {\n        setTimeout(() => dispatch(resetHelper(),50));\n    }\n}","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/containers/ControlsManager/ControlsManager.js",[],"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/containers/BudgetItemVisualization/BudgetItemVisualization.js",["150","151","152"],"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/components/UI/MapMarker/MapMarker.js",["153","154","155"],"import React from 'react';\nimport classes from './MapMarker.module.css'\nimport MapPinIcon from '../MapPinIcon/MapPinIcon';\nimport {mapMarkerImgs} from './mapMarkerImgs'\n\nconst MapMarker = (props) => {  \n\n  let width = props.width;\n  let height = props.height;\n  let transform = 'translate(-50%, -50%)';\n\n\n  //if the marker is the center, double the width and update the transform\n  if(props.center.lat === props.lat && props.center.lng === props.lng){\n    width = width.split('px')[0]*2+'px';\n    height = height.split('px')[0]*2+'px';\n    transform = 'translate(-50%, -100%)'\n  }\n\n  return (\n      <div className={classes.MapMarker} lat={props.lat} lng={props.lng} onClick={props.clicked}>\n        {props.zoom >= 13 ?\n          <img style={{\n              width: width, height: height, \n              position: 'absolute', top: \"50%\", left: \"50%\", transform: transform,\n            }} \n            src={mapMarkerImgs[props.item.pinCategory].img}>\n          </img>\n          :\n          <img style={{\n              width: '10px', height: '10px', \n              position: 'absolute', transform: 'translate(-50%, -50%)'\n            }} \n            src={mapMarkerImgs[props.item.pinCategory].dot}>\n          </img>          \n        }\n      </div>\n    );\n};\n\nexport default MapMarker;","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/components/Map/Map.js",["156","157","158","159"],"import React from 'react';\nimport GoogleMapReact from 'google-map-react';\n\nimport config from './mapConfig';\n\nconst renderDistricts = (map, maps, coords, selectedDistricts, councilMembers) => {\n    let allDistrictPolygons = {};\n    // let polygonCoords = [];\n    if(coords.features){                \n        Object.keys(coords.features).map(key => {  \n            let districtPolygons = [];\n            let currDistrict = coords.features[key].properties.coun_dist;\n            coords.features[key].geometry.coordinates.map(arr => {   \n                let coordArr = [];     \n                arr[0].map(coordinate => coordArr.push({lat: coordinate[1], lng: coordinate[0]}))        \n                \n                var councilDistrictPolygon = new maps.Polygon({\n                    paths: coordArr,\n                    strokeColor: \"#FF0000\",\n                    strokeOpacity: 0.8,\n                    strokeWeight: 2,\n                    fillColor: \"#FF0000\",\n                    fillOpacity: 0.35,\n                    indexID: currDistrict,\n                });     \n                \n                                \n                districtPolygons.push(councilDistrictPolygon);\n                // polygonCoords.push(coordArr);\n                var districtInfo = councilMembers.filter(item => item.district === currDistrict);                                \n\n                // addListenersOnPolygon(map,maps,councilDistrictPolygon, districtInfo);\n            });            \n            allDistrictPolygons[key] = {district: coords.features[key].properties.coun_dist,polygons: districtPolygons};\n        });\n    }            \n    Object.keys(allDistrictPolygons).map(key => {        \n        // if(selectedDistricts.includes(Number(allDistrictPolygons[key].district)))\n            allDistrictPolygons[key].polygons.map(polygon => polygon.setMap(map))    \n    })\n}\n\n// const addListenersOnPolygon = (map,maps,polygon, info) => {\n//     var infoWindow = new maps.InfoWindow();    \n//     maps.event.addListener(polygon, 'click', function (event) {\n//         infoWindow.setContent('District: '+polygon.indexID + '<br>Council Member: '+ info[0].name+ '<br>Political Party: '+ info[0].political_party);\n//         var latLng = event.latLng;\n//         infoWindow.setPosition(latLng);\n//         infoWindow.open(map);        \n//     });  \n//   }\n\nconst handleApiLoaded = (map, maps, coords, selectedDistricts, councilMembers, budget) => {\n    if(budget){\n        console.log('handleAPILoaded called')\n        renderDistricts(map, maps, coords, selectedDistricts, councilMembers);        \n    }\n}\n\nconst map = (props) => {\n\n    let output =\n        <GoogleMapReact\n                    bootstrapURLKeys={{ key: process.env.REACT_APP_GOOGLE_MAPS_TOKEN, v: '3.31', }}                    \n                    defaultCenter={props.defaultCenter}\n                    center={{lat: Number(props.center.lat), lng: Number(props.center.lng)}}\n                    zoom={props.zoom}\n                    options={config}   \n\n                    yesIWantToUseGoogleMapApiInternals\n                    onGoogleApiLoaded={({ map, maps }) => {\n                        handleApiLoaded(map, maps, props.districts, props.selectedDistricts, props.councilMembers, props.selectedBudgetItems)\n                    }}\n        >\n            {props.markers}\n        </GoogleMapReact>;\n\n    return output;\n}\n\nexport default map;","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/components/UI/MapPinIcon/MapPinIcon.js",[],"/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/util/translateCategory.js",["160"],"let newCategories = ['Culture and Community Facilities',\n    'Schools and Education',\n    'Environment',\n    'Housing',\n    'Parks and Recreation',\n    'Public Health',\n    'Public Safety',\n    'Sanitation',\n    'Seniors',\n    'Streets and Sidewalks',\n    'Transit and Transportation',\n    'Youth',\n    'Previously funded']\n\nconst translateCategory = (item) => {\n\n    let category = item.category;\n\n    if( category.includes('Health and Environment')) return {...item, pinCategory: 'Public Health'}\n    if( category === 'Public Safety & Public Health') return {...item, pinCategory: 'Public Safety'}\n\n    if( category.includes('Safety')) return {...item, pinCategory: 'Public Safety'};\n    if( category.includes('Communit') || category.includes('Cultur') || category.includes('District-Wide Priorities')) return {...item, pinCategory: 'Culture and Community Facilities'};\n    if( category.includes('School') || category.includes('Education') || category.includes('Librar')) return {...item, pinCategory: 'Schools and Education'};\n    if( category.includes('Environment')) return {...item, pinCategory: 'Environment'};\n    \n    if( category.includes('Recreation') || category.includes('Parks')) return {...item, pinCategory: 'Parks and Recreation'};\n    if( category.includes('Health')) return {...item, pinCategory: 'Public Health'};\n    \n    // if( category.includes('')) return {...item, pinCategory: 'Previously funded'};\n    \n    if( category.includes('Housing')) return {...item, pinCategory: 'Housing'};\n    if( category.includes('Sanitation')) return {...item, pinCategory: 'Sanitation'};\n    if( category.includes('Senior')) return {...item, pinCategory: 'Seniors'};\n    if( category.includes('Streets')) return {...item, pinCategory: 'Streets and Sidewalks'};\n    if( category.includes('Transit') || category.includes('Transportation')) return {...item, pinCategory: 'Transit and Transportation'};\n    if( category.includes('Youth')) return {...item, pinCategory: 'Youth'};\n\n    // if( category.includes('Save your money') || category.includes('Save your money')) return {...item, pinCategory: 'Previously funded'}\n    // default)\n    //     return item;\n}\n\nexport default translateCategory;","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/containers/BudgetMap/BudgetMap.js",["161","162","163"],"import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport Spinner from '../../components/UI/Spinner/Spinner';\nimport Button from '../../components/UI/Button/Button';\nimport MapMarker from '../../components/UI/MapMarker/MapMarker';\nimport * as actions from '../../store/actions/index';\nimport translateCategory from '../../util/translateCategory';\n\nimport Map from '../../components/Map/Map';\n\nconst DEFAULT_CENTER = { lat: 40.635, lng: -73.94 };\n\nclass BudgetMap extends Component{\n    state = {\n        firstPageLoad: false,\n    } \n\n    componentDidMount(){\n        if(this.props.districts){\n            this.props.onSetMap(this.props.districts, this.props.selectedDistricts, this.props.councilMembers, this.props.selectedBudgetItems);\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if(!this.state.firstPageLoad && this.props.loaded){\n            this.props.onSetMap(this.props.districts, this.props.selectedDistricts, this.props.councilMembers, this.props.selectedBudgetItems);\n            this.setState({firstPageLoad: true})\n        }\n\n        if((prevProps.selectedBudgetItems !== this.props.selectedBudgetItems)){\n            this.props.onResetMap();            \n            this.props.onUpdateMap(this.props.districts, this.props.selectedDistricts, this.props.councilMembers, this.props.selectedBudgetItems);     \n        }        \n    }\n\n    markerClicked = (center) => {        \n        this.props.onZoomMarker(center);\n    }\n\n    render(){     \n        \n        let markers = [];    \n        if(this.props.selectedBudgetItems){                    \n            this.props.selectedBudgetItems.filter(item => item.latitude && item.longitude).map((item,idx) => {\n                markers.push(<MapMarker \n                    center={this.props.center}\n                    key={idx} \n                    lat={item.latitude} \n                    lng={item.longitude} \n                    item={translateCategory(item)}\n                    width={'30px'}\n                    height={'30px'}\n                    zoom={this.props.zoom} ////figure out how to change on zoom change, might have to be rendered not in an array in component but in render itself\n                    clicked={() => this.markerClicked({ lat: item.latitude, lng: item.longitude })}/>\n                );\n            })\n        }\n\n\n        return(\n            <div style={{ height: '87vh', width: '100%' }}>\n                {this.props.mapProps ?                     \n                    <Map \n                        {...this.props.mapProps} \n                            zoom={this.props.zoom} \n                            center={this.props.center} \n                            defaultCenter={DEFAULT_CENTER}\n                            markers={markers}/>                 \n                    :null}\n            </div>            \n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        currItem: state.participatoryBudget.currItem,\n        participatoryBudget: state.participatoryBudget.participatoryBudget,        \n        councilMemberLoading: state.participatoryBudget.councilMemberLoading,\n        error: state.participatoryBudget.error,\n        councilMembers: state.participatoryBudget.councilMembers,\n        districts: state.participatoryBudget.districts,\n        districtsLoading: state.participatoryBudget.districtsLoading,   \n        selectedDistricts: state.participatoryBudget.selectedDistricts,   \n        loaded: state.participatoryBudget.loaded,\n        \n        mapProps: state.setMap.mapProps,        \n        center: state.setMap.center,\n        zoom: state.setMap.zoom,\n        selectedBudgetItems: state.subsets.selectedBudgetItems,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {        \n        onSetMap: (districts, selectedDistricts, councilMembers, selectedBudgetItems) => dispatch(actions.setMap(districts, selectedDistricts, councilMembers, selectedBudgetItems)),  \n        onUpdateMap: (districts, selectedDistricts, councilMembers, selectedBudgetItems) => dispatch(actions.updateMap(districts, selectedDistricts, councilMembers, selectedBudgetItems)),  \n        onResetMap: () => dispatch(actions.resetMap()),\n        onZoomMarker: (center) => dispatch(actions.zoomMarker(center)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BudgetMap);","/Users/benjamingordon/Documents/civic-alley-visualization/data-vis/src/components/UI/MapMarker/mapMarkerImgs.js",[],{"ruleId":"164","replacedBy":"165"},{"ruleId":"166","replacedBy":"167"},{"ruleId":"168","severity":1,"message":"169","line":1,"column":8,"nodeType":"170","messageId":"171","endLine":1,"endColumn":12},{"ruleId":"172","severity":1,"message":"173","line":11,"column":59,"nodeType":"174","endLine":11,"endColumn":144},{"ruleId":"168","severity":1,"message":"175","line":1,"column":8,"nodeType":"170","messageId":"171","endLine":1,"endColumn":13},{"ruleId":"168","severity":1,"message":"176","line":1,"column":16,"nodeType":"170","messageId":"171","endLine":1,"endColumn":25},{"ruleId":"177","severity":1,"message":"178","line":30,"column":25,"nodeType":"174","endLine":30,"endColumn":38},{"ruleId":"168","severity":1,"message":"179","line":3,"column":10,"nodeType":"170","messageId":"171","endLine":3,"endColumn":26},{"ruleId":"168","severity":1,"message":"180","line":62,"column":7,"nodeType":"170","messageId":"171","endLine":62,"endColumn":14},{"ruleId":"168","severity":1,"message":"181","line":92,"column":7,"nodeType":"170","messageId":"171","endLine":92,"endColumn":17},{"ruleId":"182","severity":1,"message":"183","line":95,"column":58,"nodeType":"184","messageId":"185","endLine":95,"endColumn":60},{"ruleId":"168","severity":1,"message":"186","line":105,"column":7,"nodeType":"170","messageId":"171","endLine":105,"endColumn":21},{"ruleId":"182","severity":1,"message":"183","line":108,"column":58,"nodeType":"184","messageId":"185","endLine":108,"endColumn":60},{"ruleId":"168","severity":1,"message":"187","line":118,"column":7,"nodeType":"170","messageId":"171","endLine":118,"endColumn":21},{"ruleId":"182","severity":1,"message":"183","line":121,"column":58,"nodeType":"184","messageId":"185","endLine":121,"endColumn":60},{"ruleId":"164","replacedBy":"188"},{"ruleId":"166","replacedBy":"189"},{"ruleId":"182","severity":1,"message":"183","line":12,"column":46,"nodeType":"184","messageId":"185","endLine":12,"endColumn":48},{"ruleId":"182","severity":1,"message":"183","line":22,"column":46,"nodeType":"184","messageId":"185","endLine":22,"endColumn":48},{"ruleId":"182","severity":1,"message":"183","line":33,"column":46,"nodeType":"184","messageId":"185","endLine":33,"endColumn":48},{"ruleId":"182","severity":1,"message":"183","line":50,"column":50,"nodeType":"184","messageId":"185","endLine":50,"endColumn":52},{"ruleId":"182","severity":1,"message":"183","line":60,"column":42,"nodeType":"184","messageId":"185","endLine":60,"endColumn":44},{"ruleId":"182","severity":1,"message":"183","line":69,"column":42,"nodeType":"184","messageId":"185","endLine":69,"endColumn":44},{"ruleId":"168","severity":1,"message":"190","line":3,"column":8,"nodeType":"170","messageId":"171","endLine":3,"endColumn":22},{"ruleId":"168","severity":1,"message":"191","line":5,"column":8,"nodeType":"170","messageId":"171","endLine":5,"endColumn":17},{"ruleId":"192","severity":1,"message":"193","line":34,"column":9,"nodeType":"194","messageId":"195","endLine":34,"endColumn":100},{"ruleId":"168","severity":1,"message":"196","line":2,"column":8,"nodeType":"170","messageId":"171","endLine":2,"endColumn":13},{"ruleId":"168","severity":1,"message":"197","line":3,"column":13,"nodeType":"170","messageId":"171","endLine":3,"endColumn":24},{"ruleId":"168","severity":1,"message":"198","line":4,"column":8,"nodeType":"170","messageId":"171","endLine":4,"endColumn":15},{"ruleId":"168","severity":1,"message":"199","line":5,"column":8,"nodeType":"170","messageId":"171","endLine":5,"endColumn":16},{"ruleId":"168","severity":1,"message":"200","line":6,"column":8,"nodeType":"170","messageId":"171","endLine":6,"endColumn":14},{"ruleId":"168","severity":1,"message":"201","line":3,"column":8,"nodeType":"170","messageId":"171","endLine":3,"endColumn":18},{"ruleId":"202","severity":1,"message":"203","line":23,"column":11,"nodeType":"174","endLine":27,"endColumn":61},{"ruleId":"202","severity":1,"message":"203","line":30,"column":11,"nodeType":"174","endLine":34,"endColumn":61},{"ruleId":"182","severity":1,"message":"183","line":10,"column":46,"nodeType":"184","messageId":"185","endLine":10,"endColumn":48},{"ruleId":"182","severity":1,"message":"183","line":13,"column":63,"nodeType":"184","messageId":"185","endLine":13,"endColumn":65},{"ruleId":"168","severity":1,"message":"204","line":30,"column":21,"nodeType":"170","messageId":"171","endLine":30,"endColumn":33},{"ruleId":"182","severity":1,"message":"183","line":37,"column":46,"nodeType":"184","messageId":"185","endLine":37,"endColumn":48},{"ruleId":"168","severity":1,"message":"205","line":1,"column":5,"nodeType":"170","messageId":"171","endLine":1,"endColumn":18},{"ruleId":"168","severity":1,"message":"198","line":3,"column":8,"nodeType":"170","messageId":"171","endLine":3,"endColumn":15},{"ruleId":"168","severity":1,"message":"200","line":4,"column":8,"nodeType":"170","messageId":"171","endLine":4,"endColumn":14},{"ruleId":"182","severity":1,"message":"183","line":44,"column":107,"nodeType":"184","messageId":"185","endLine":44,"endColumn":109},"no-native-reassign",["206"],"no-negated-in-lhs",["207"],"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXOpeningElement","'react' is defined but never used.","'Component' is defined but never used.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","'similarSubstring' is defined but never used.","'findMax' is assigned a value but never used.","'sortByYear' is assigned a value but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'sortByDistrict' is assigned a value but never used.","'sortByCategory' is assigned a value but never used.",["206"],["207"],"'GoogleMapReact' is defined but never used.","'MapMarker' is defined but never used.","no-duplicate-case","Duplicate case label.","SwitchCase","unexpected","'axios' is defined but never used.","'getRequests' is defined but never used.","'Spinner' is defined but never used.","'Dropdown' is defined but never used.","'Button' is defined but never used.","'MapPinIcon' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","'districtInfo' is assigned a value but never used.","'newCategories' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]